(this["webpackJsonpclone-twitter"]=this["webpackJsonpclone-twitter"]||[]).push([[6],{185:function(e,n,a){"use strict";var t=a(2),r=a(102);n.a=function(){return Object(t.useContext)(r.a)}},190:function(e,n,a){"use strict";a.d(n,"b",(function(){return u})),a.d(n,"a",(function(){return l})),a.d(n,"c",(function(){return i}));var t,r,s,c=a(191),o=a(46),u=Object(o.gql)(t||(t=Object(c.a)(["\n    mutation addUser($input: UserInput) {\n        newUser(input: $input) {\n            password\n            username\n        }\n    }\n"]))),l=Object(o.gql)(r||(r=Object(c.a)(["\n   mutation logeandome ($input: LoginInput){\n        authentication (input: $input) {\n            token\n        }\n    }\n"]))),i=Object(o.gql)(s||(s=Object(c.a)(["\n   mutation updateAvatar ($input: AvatarInput) {\n        updateAvatar (input: $input) {\n            id\n        }\n    }\n"])))},230:function(e,n,a){},257:function(e,n,a){"use strict";a.r(n);var t=a(208),r=a.n(t),s=a(209),c=a(97),o=a(2),u=a(46),l=a(9),i=a(177),d=a(255),j=a(258),b=a(235),h=a(248),O=a(256),p=a(253),m=a.p+"static/media/bgLogin.1e4e73ee.jpg",g=a(210),v=a(211),f=function(e){var n=Object(o.useState)({values:Object.keys(e).reduce((function(e,n){return e[n]="",e}),{}),touched:Object.keys(e).reduce((function(e,n){return e[n]=!1,e}),{}),errors:Object.keys(e).reduce((function(e,n){return e[n]=!0,e}),{}),initialKeys:Object.keys(e).reduce((function(e,n){return e[n]="",e}),{})}),a=Object(c.a)(n,2),t=a[0],r=a[1];return[{values:t.values,errors:t.errors,touched:t.touched,handleErrors:Object.keys(t.initialKeys).some((function(e){return t.errors[e]})),handleReset:function(){r((function(e){return Object(v.a)(Object(v.a)({},e),{},{values:e.initialKeys,errors:Object.keys(e.initialKeys).reduce((function(e,n){return e[n]=!0,e}),{}),touched:Object.keys(e.initialKeys).reduce((function(e,n){return e[n]=!1,e}),{})})}))},handleTouched:function(e){var n=e.target.name;r((function(e){return Object(v.a)(Object(v.a)({},e),{},{touched:Object(v.a)(Object(v.a)({},e.touched),{},Object(g.a)({},n,!0))})}))},handleChange:function(e){var n=e.target,a=n.name,t=n.value;r((function(e){return Object(v.a)(Object(v.a)({},e),{},{values:Object(v.a)(Object(v.a)({},e.values),{},Object(g.a)({},a,t)),errors:Object(v.a)(Object(v.a)({},e.errors),{},Object(g.a)({},a,0===(t||"").length)),touched:Object(v.a)(Object(v.a)({},e.touched),{},Object(g.a)({},a,!0))})}))}}]},x=a(190),C=a(84),w=a(185),k=(a(230),a(11));n.default=function(){var e=Object(l.f)(),n=Object(w.a)().setUser,a=Object(u.useMutation)(x.b),t=Object(c.a)(a,1)[0],g=Object(u.useMutation)(x.a),v=Object(c.a)(g,1)[0],y=Object(o.useState)(!1),R=Object(c.a)(y,2),E=R[0],S=R[1],T=Object(o.useState)({status:null,header:null,message:null}),q=Object(c.a)(T,2),I=q[0],F=q[1],U=f({email:"",password:""}),A=Object(c.a)(U,1)[0],B=f({name:"",username:"",email:"",password:""}),N=Object(c.a)(B,1)[0],$=function(){return S(!E)},D=function(){return"SUCCESS"===I.status?Object(k.jsx)(i.a,{textAlign:"center",children:Object(k.jsx)(d.a,{compact:!0,success:!0,header:I.header,content:I.message})}):"ERROR"===I.status?Object(k.jsx)(i.a,{textAlign:"center",children:Object(k.jsx)(d.a,{compact:!0,error:!0,header:I.header,content:I.message})}):null},K=function(){var a=Object(s.a)(r.a.mark((function a(t){var s,c;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t.preventDefault(),!A.handleErrors){a.next=5;break}F({status:"ERROR",header:"Faltan campos por llenar",message:"El campo email o contrase\xf1a se encuentra vacios"}),a.next=19;break;case 5:return a.prev=5,a.next=8,v({variables:{input:A.values}});case 8:s=a.sent,c=s.data.authentication.token,C.a.set("token",c),n(c),e.push("/home"),F({status:"SUCCESS",header:"Datos llenados exitosamente",message:"Espere unos segundos por favor..."}),a.next=19;break;case 16:a.prev=16,a.t0=a.catch(5),F({status:"ERROR",header:"Ocurrio un error",message:a.t0.message});case 19:case"end":return a.stop()}}),a,null,[[5,16]])})));return function(e){return a.apply(this,arguments)}}(),L=function(){var e=Object(s.a)(r.a.mark((function e(n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!N.handleErrors){e.next=5;break}F({status:"ERROR",header:"Faltan campos por llenar",message:"El campo email o contrase\xf1a se encuentra vacios"}),e.next=18;break;case 5:return e.prev=5,e.next=8,t({variables:{input:N.values}});case 8:e.sent,$(),N.handleReset(),F({status:"SUCCESS",header:"Datos llenados exitosamente",message:"Espere unos segundos por favor..."}),console.log("todo bien"),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),F({status:"ERROR",header:"Ocurrio un error",message:e.t0.message});case 18:case"end":return e.stop()}}),e,null,[[5,15]])})));return function(n){return e.apply(this,arguments)}}();return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(j.a,{columns:2,className:"login",children:Object(k.jsxs)(j.a.Row,{children:[Object(k.jsx)(j.a.Column,{children:Object(k.jsx)(b.a,{src:m,className:"img"})}),Object(k.jsxs)(j.a.Column,{verticalAlign:"middle",children:[Object(k.jsx)(D,{}),Object(k.jsxs)(h.a,{onSubmit:K,children:[Object(k.jsx)(h.a.Field,{required:!0,children:Object(k.jsx)(h.a.Input,{label:"Email",className:"",name:"email",placeholder:"Email",onBlur:A.handleTouched,onChange:A.handleChange,value:A.values.email,error:A.touched.email&&A.errors.email?{content:"Tu correo esta mal escrito",pointing:"below"}:null})}),Object(k.jsx)(h.a.Field,{required:!0,children:Object(k.jsx)(h.a.Input,{label:"Contrase\xf1a",name:"password",placeholder:"Contrase\xf1a",type:"password",onBlur:A.handleTouched,onChange:A.handleChange,value:A.values.password,error:A.touched.password&&A.errors.password?{content:"La contrase\xf1a es requerida",pointing:"below"}:null})}),Object(k.jsx)(O.a,{primary:!0,floated:"left",children:"Ingresar"}),Object(k.jsx)(O.a,{secondary:!0,floated:"right",onClick:function(){return $()},children:"Registrarme"})]})]})]})}),Object(k.jsxs)(p.a,{closeOnEscape:!0,closeOnDimmerClick:!0,open:E,size:"mini",children:[Object(k.jsx)(p.a.Header,{children:"Registrar un nuevo usuario"}),Object(k.jsxs)(p.a.Content,{children:[Object(k.jsx)(D,{}),Object(k.jsxs)(h.a,{onSubmit:L,children:[Object(k.jsx)(h.a.Field,{required:!0,children:Object(k.jsx)(h.a.Input,{label:"Nombres",placeholder:"Nombres",name:"name",fluid:!0,onBlur:N.handleTouched,onChange:N.handleChange,value:N.values.name,error:N.touched.name&&N.errors.name?{content:"Tu nombre no es valido",pointing:"below"}:null})}),Object(k.jsx)(h.a.Field,{required:!0,children:Object(k.jsx)(h.a.Input,{label:"Username",placeholder:"Nombre de usuario",name:"username",fluid:!0,onBlur:N.handleTouched,onChange:N.handleChange,value:N.values.username,error:N.touched.username&&N.errors.username?{content:"Tu nombre de usuario no es valido",pointing:"below"}:null})}),Object(k.jsx)(h.a.Field,{required:!0,children:Object(k.jsx)(h.a.Input,{label:"Email",placeholder:"Email",name:"email",fluid:!0,onBlur:N.handleTouched,onChange:N.handleChange,value:N.values.email,error:N.touched.email&&N.errors.email?{content:"Tu email no es valido",pointing:"below"}:null})}),Object(k.jsx)(h.a.Field,{required:!0,children:Object(k.jsx)(h.a.Input,{label:"Contrasena",placeholder:"Contrasena",name:"password",type:"password",fluid:!0,onBlur:N.handleTouched,onChange:N.handleChange,value:N.values.password,error:N.touched.password&&N.errors.password?{content:"Tu cotrase\xf1a no es valido",pointing:"below"}:null})}),Object(k.jsxs)(p.a.Actions,{children:[Object(k.jsx)(O.a,{secondary:!0,onClick:function(){return $()},children:"Cancelar"}),Object(k.jsx)(O.a,{primary:!0,type:"submit",children:"Registrar usuario"})]})]})]})]})]})}}}]);
//# sourceMappingURL=6.abff5fdf.chunk.js.map