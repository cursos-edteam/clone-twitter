(this["webpackJsonpclone-twitter"]=this["webpackJsonpclone-twitter"]||[]).push([[7],{185:function(e,t,n){"use strict";var a=n(2),c=n(102);t.a=function(){return Object(a.useContext)(c.a)}},190:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return j})),n.d(t,"c",(function(){return u}));var a,c,r,s=n(191),i=n(46),o=Object(i.gql)(a||(a=Object(s.a)(["\n    mutation addUser($input: UserInput) {\n        newUser(input: $input) {\n            password\n            username\n        }\n    }\n"]))),j=Object(i.gql)(c||(c=Object(s.a)(["\n   mutation logeandome ($input: LoginInput){\n        authentication (input: $input) {\n            token\n        }\n    }\n"]))),u=Object(i.gql)(r||(r=Object(s.a)(["\n   mutation updateAvatar ($input: AvatarInput) {\n        updateAvatar (input: $input) {\n            id\n        }\n    }\n"])))},251:function(e,t,n){"use strict";n.r(t);var a,c=n(97),r=n(2),s=n(249),i=n(201),o=n(260),j=n(235),u=n(246),l=n(185),b=n(211),m=n(208),O=n.n(m),d=n(209),x=n(253),f=n(256),p=n(234),h=n(46),g=n(190),v=n(84),k=n(9),A=n(11),w=function(e){var t=e.getAvatar,n=e.id,a=e.open,s=e.setOpen,j=Object(k.f)(),u=Object(h.useMutation)(g.c),l=Object(c.a)(u,1)[0],m=Object(r.useState)(null),w=Object(c.a)(m,2),C=w[0],y=w[1],I=Object(r.useState)(!1),N=Object(c.a)(I,2),U=N[0],S=N[1],$=Object(r.useCallback)((function(e){console.log(e);var t=new FileReader;t.onload=function(){var e=t.result.replace("data:","").replace(/^.+,/,"");y(e)},t.readAsDataURL(e[0])}),[]),q=Object(p.a)({accept:"image/jpeg",noKeyboard:!0,multiple:!1,onDrop:$}),E=q.getRootProps,P=q.getInputProps,z=function(){var e=Object(d.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,S(!U),e.next=4,l({variables:{input:{id:n,file:C}}});case 4:S(!1),s(!1),t(C),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return Object(A.jsxs)(x.a,{basic:!0,onClose:function(){return s(!1)},onOpen:function(){return s(!0)},open:a,size:"mini",children:[Object(A.jsxs)(o.a,{icon:!0,children:[Object(A.jsx)(i.a,{name:"upload"}),"Subir mi foto de perfil"]}),Object(A.jsxs)(x.a.Content,{className:"flex flex-row flex-align-center flex-justify-center",children:[Object(A.jsxs)(f.a,{secondary:!0,onClick:function(){v.a.reset(),j.push("/login")},children:[Object(A.jsx)(i.a,{name:"logout"})," Cerrar sesion"]}),Object(A.jsx)(f.a,Object(b.a)(Object(b.a)({},E()),{},{primary:!0,children:"Seleccionar mi foto de perfil"})),Object(A.jsx)("input",Object(b.a)({},P()))]}),Object(A.jsxs)(x.a.Actions,{className:"flex flex-row flex-align-center flex-justify-center",children:[Object(A.jsxs)(f.a,{basic:!0,color:"red",inverted:!0,onClick:function(){return s(!1)},children:[Object(A.jsx)(i.a,{name:"remove"})," Cancelar"]}),Object(A.jsxs)(f.a,{disabled:U,loading:U,color:"green",inverted:!0,onClick:z,children:[Object(A.jsx)(i.a,{name:"checkmark"})," Actualizar foto"]})]})]})},C=n(236),y=n(254),I=n(250),N=function(){var e=Object(r.useState)(!1),t=Object(c.a)(e,2),n=t[0],a=t[1];return Object(r.useEffect)((function(){setTimeout((function(){a(!n)}),500)}),[]),Object(A.jsx)(y.a,{horizontal:!0,className:"flex flex-row flex-no-wrap overflow-x avatar--height",children:Object(C.a)(Array(10).keys()).map((function(e){return Object(A.jsx)(y.a.Item,{className:"item--avatar",children:Object(A.jsx)(I.a,{visible:n,animation:"scale",duration:500,children:Object(A.jsx)(j.a,{avatar:!0,className:"avatar--image",src:"https://react.semantic-ui.com/images/avatar/small/tom.jpg"})})},e)}))})},U=function(){var e=Object(l.a)().auth,t=Object(r.useState)(!1),n=Object(c.a)(t,2),a=n[0],s=n[1],i=Object(r.useState)(null),b=Object(c.a)(i,2),m=b[0],O=b[1];Object(r.useEffect)((function(){console.log(e)}),[]);return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)(o.a,{as:"h3",className:"d-flex flex-column flex-align-start flex-justify-center mt-5 mb-5",children:[Object(A.jsx)(j.a,{onClick:function(){return s(!a)},circular:!0,src:m?"data:image/jpeg; base64,".concat(m):e.avatar?"data:image/jpeg; base64,".concat(e.avatar):"https://randomuser.me/api/portraits/thumb/men/99.jpg"}),e.name]}),Object(A.jsx)(w,{getAvatar:function(e){return O(e)},id:e.id,open:a,setOpen:s}),Object(A.jsx)(u.a,{className:"mt-5 mb-5"}),Object(A.jsx)(N,{})]})},S=function(){return Object(A.jsx)("h1",{children:"Hola search"})},$=n(252),q=n(191),E=Object(h.gql)(a||(a=Object(q.a)(["\n   query obtenerPublicaciones {\n        getPosts {\n            idUser {\n                name\n                username\n                id\n                avatar\n                email\n            }\n            id\n            post\n        }\n    }\n"]))),P=function(e){var t=e.auth,n=Object(h.useQuery)(E),a=n.data,c=n.loading;Object(r.useEffect)((function(){console.log(a),console.log(t)}),[c]);var s=function(e){var n=e.data;return n?n.getPosts.map((function(e){return Object(A.jsx)($.a.Group,{children:Object(A.jsxs)($.a,{children:[Object(A.jsx)($.a.Avatar,{as:"a",src:"data:image/jpeg; base64,".concat(e.idUser.avatar)}),Object(A.jsxs)($.a.Content,{children:[Object(A.jsx)($.a.Author,{children:e.idUser.username}),Object(A.jsx)($.a.Text,{children:e.post}),Object(A.jsxs)($.a.Actions,{children:[Object(A.jsx)($.a.Action,{children:"Agregar"}),t.id===e.idUser.id&&Object(A.jsx)($.a.Action,{children:"Editar"}),t.id===e.idUser.id&&Object(A.jsx)($.a.Action,{children:"Eliminar"})]})]})]})},e.id)})):null};return Object(A.jsx)(s,{data:a})},z=function(){return Object(A.jsx)("h1",{children:"Hola Messages"})},F=function(){return Object(A.jsx)("h1",{children:"Hola Notifications"})};t.default=function(){var e=Object(l.a)().auth,t=Object(r.useState)({name:"home",component:null}),n=Object(c.a)(t,2),a=n[0],o=n[1],j=function(){return a.component?a.component:Object(A.jsx)(P,{auth:e})},u=function(e,t){var n=t.name,a=t.component;o({name:n,component:a})};return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(U,{}),Object(A.jsx)(j,{}),Object(A.jsx)("div",{className:"items--container",children:Object(A.jsxs)(s.a,{attached:"bottom",tabular:!0,widths:"4",children:[Object(A.jsx)(s.a.Item,{component:Object(A.jsx)(P,{auth:e}),name:"home",active:"home"===a.name,onClick:u,children:Object(A.jsx)(i.a,{name:"home"})}),Object(A.jsx)(s.a.Item,{component:Object(A.jsx)(S,{}),name:"search",active:"search"===a.name,onClick:u,children:Object(A.jsx)(i.a,{name:"search"})}),Object(A.jsx)(s.a.Item,{component:Object(A.jsx)(F,{}),name:"notifications",active:"notifications"===a.name,onClick:u,children:Object(A.jsx)(i.a,{name:"bell"})}),Object(A.jsx)(s.a.Item,{component:Object(A.jsx)(z,{}),name:"messages",active:"messages"===a.name,onClick:u,children:Object(A.jsx)(i.a,{name:"mail"})})]})})]})}}}]);
//# sourceMappingURL=7.49fcac82.chunk.js.map